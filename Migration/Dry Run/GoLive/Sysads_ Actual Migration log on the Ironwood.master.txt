Logs of Data Migration to Ironwood
---------------------------------------------

1) Edxapp

(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ ansible-playbook -c ssh edxapp.yml -i inventory.ini --limit edxapp  --tags "migrate" -e@server_vars.yml  -u edx -k -K -vvv
ansible-playbook 2.7.12
  config file = /var/tmp/configuration/playbooks/ansible.cfg
  configured module search path = [u'/home/edx/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /edx/app/edx_ansible/venvs/edx_ansible/local/lib/python2.7/site-packages/ansible
  executable location = /edx/app/edx_ansible/venvs/edx_ansible/bin/ansible-playbook
  python version = 2.7.12 (default, Apr 15 2020, 17:07:12) [GCC 5.4.0 20160609]
Using /var/tmp/configuration/playbooks/ansible.cfg as config file
SSH password:
SUDO password[defaults to SSH password]:
/var/tmp/configuration/playbooks/inventory.ini did not meet host_list requirements, check plugin documentation if this is unexpected
/var/tmp/configuration/playbooks/inventory.ini did not meet script requirements, check plugin documentation if this is unexpected
/var/tmp/configuration/playbooks/inventory.ini did not meet yaml requirements, check plugin documentation if this is unexpected
Parsed /var/tmp/configuration/playbooks/inventory.ini inventory source with ini plugin
statically imported: /var/tmp/configuration/playbooks/roles/security/tasks/security-ubuntu.yml
statically imported: /var/tmp/configuration/playbooks/roles/security/tasks/security-amazon.yml
statically imported: /var/tmp/configuration/playbooks/roles/edxapp/tasks/python_sandbox_env.yml
statically imported: /var/tmp/configuration/playbooks/roles/edxapp/tasks/deploy.yml
statically imported: /var/tmp/configuration/playbooks/roles/edxapp/tasks/service_variant_config.yml
statically imported: /var/tmp/configuration/playbooks/roles/edxapp/tasks/tag_ec2.yml

PLAYBOOK: edxapp.yml ************************************************************************************************************************************************************************
1 plays in edxapp.yml

PLAY [Deploy edxapp] ************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
task path: /var/tmp/configuration/playbooks/edxapp.yml:1
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'echo ~edx && sleep 0'"'"''
<10.10.3.125> (0, '/home/edx\n', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965 `" && echo ansible-tmp-1626336762.33-235928405556965="` echo /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965 `" ) && sleep 0'"'"''
<10.10.3.125> (0, 'ansible-tmp-1626336762.33-235928405556965=/home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965\n', '')
Using module file /edx/app/edx_ansible/venvs/edx_ansible/local/lib/python2.7/site-packages/ansible/modules/system/setup.py
<10.10.3.125> PUT /home/edx/.ansible/tmp/ansible-local-7223M85Ill/tmpFylA8B TO /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/AnsiballZ_setup.py
<10.10.3.125> SSH: EXEC sshpass -d10 sftp -o BatchMode=no -b - -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 '[10.10.3.125]'
<10.10.3.125> (0, 'sftp> put /home/edx/.ansible/tmp/ansible-local-7223M85Ill/tmpFylA8B /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/AnsiballZ_setup.py\n', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'chmod u+x /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/ /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/AnsiballZ_setup.py && sleep 0'"'"''
<10.10.3.125> (0, '', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 -tt 10.10.3.125 '/bin/sh -c '"'"'sudo -H -S  -p "[sudo via ansible, key=tkvutufefiykifzsmraifcdevfiutrjg] password: " -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-tkvutufefiykifzsmraifcdevfiutrjg; /usr/bin/python /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/AnsiballZ_setup.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<10.10.3.125> (0, '\r\n\r\n\r\n{"invocation": {"module_args": {"filter": "*", "gather_subset": ["all"], "fact_path": "/etc/ansible/facts.d", "gather_timeout": 10}}, "ansible_facts": {"ansible_product_serial": "VMware-42 11 01 77 83 7e d8 ff-b6 ae 3f 30 98 46 da 30", "ansible_form_factor": "Other", "ansible_user_gecos": "root", "ansible_distribution_file_parsed": true, "ansible_fips": false, "ansible_service_mgr": "systemd", "ansible_user_id": "root", "ansible_selinux_python_present": false, "ansible_userspace_bits": "64", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQDsQ9lDezW8EfL6bMFNWNr9x02b89eIPh4ABszHieikSjUt3aWgANp4WBSy/DBwRWjsrB588By+mX19j8xTYsTZJaSLV1ckV3OHyb3lfEnQNWrNpIzCrjGhfvIKg13LFc8m8NMw1ZXuHeY6dpZJfG7vGeaZKjEFMDTe+JN2jrpb/L7D1V+hO7chlLA8QUpBuKP750Y7qajsExDsmYQmCbVX6FNAttienG+o62oAtEPOFMWIo05E5DlEzGjdjezqXCbroAyiZgS/ksYzNdD/AiGpc5AsxpS/Mmk1xGfw6IPhrlb9HHsoc0WjtQZF9NYTx3HNt1fJUCttpSPYKhAPNf8L", "gather_subset": ["all"], "ansible_architecture": "x86_64", "ansible_local": {}, "ansible_distribution_version": "16.04", "ansible_domain": "", "ansible_distribution_file_path": "/etc/os-release", "ansible_user_shell": "/bin/bash", "ansible_virtualization_type": "VMware", "ansible_real_user_id": 0, "ansible_processor_cores": 1, "ansible_virtualization_role": "guest", "ansible_distribution_file_variety": "Debian", "ansible_dns": {"nameservers": ["8.8.8.8"]}, "ansible_effective_group_id": 0, "ansible_is_chroot": false, "ansible_bios_version": "6.00", "ansible_processor": ["0", "GenuineIntel", "Intel(R) Xeon(R) CPU E5-2630 v4 @ 2.20GHz", "1", "GenuineIntel", "Intel(R) Xeon(R) CPU E5-2630 v4 @ 2.20GHz"], "ansible_date_time": {"weekday_number": "4", "iso8601_basic_short": "20210715T134244", "tz": "IST", "weeknumber": "28", "hour": "13", "year": "2021", "minute": "42", "tz_offset": "+0530", "month": "07", "epoch": "1626336764", "iso8601_micro": "2021-07-15T08:12:44.070642Z", "weekday": "Thursday", "time": "13:42:44", "date": "2021-07-15", "iso8601": "2021-07-15T08:12:44Z", "day": "15", "iso8601_basic": "20210715T134244070565", "second": "44"}, "ansible_lo": {"features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "tx_tcp6_segmentation": "on", "tx_gso_robust": "off [fixed]", "tx_ipip_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "on [fixed]", "loopback": "on [fixed]", "fcoe_mtu": "off [fixed]", "tx_checksum_sctp": "on [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on [fixed]", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "busy_poll": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_vlan_offload": "off [fixed]", "tx_nocache_copy": "off [fixed]", "udp_fragmentation_offload": "on", "scatter_gather": "on", "tx_sit_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "rx_vlan_filter": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "hw_timestamp_filters": [], "mtu": 65536, "device": "lo", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "host", "netmask": "255.0.0.0", "network": "127.0.0.0", "address": "127.0.0.1"}, "ipv6": [{"scope": "host", "prefix": "128", "address": "::1"}], "active": true, "type": "loopback"}, "ansible_memtotal_mb": 7983, "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIjvrtBPzdn2q296lhUBrpFqCN2PqsYb6rlPc7BvaPu9nxfEUmLNPVer5TOiwbaiTN1nyefjir/Px/jhUMF+rwQ=", "ansible_device_links": {"masters": {"sda5": ["dm-0", "dm-1"]}, "labels": {}, "ids": {"sr0": ["ata-VMware_Virtual_SATA_CDRW_Drive_00000000000000000001"], "sda5": ["lvm-pv-uuid-Xw3VpA-E3At-m058-H81C-i6Vy-V282-rvT89q"], "dm-0": ["dm-name-ubuntu1604--vg-root", "dm-uuid-LVM-YpgRpDcNlpSYxnlF9354EO2C0ZrvyIXpUmINwig8uWHX2Z7dEc03pMVyrtbL650e"], "dm-1": ["dm-name-ubuntu1604--vg-swap_1", "dm-uuid-LVM-YpgRpDcNlpSYxnlF9354EO2C0ZrvyIXpUN0JzpdZBD3IZWqntSCzUgzy1iF3jjSr"]}, "uuids": {"sda1": ["331ed48c-913b-4d0c-9f08-9f464e9c1e8d"], "dm-0": ["cdf0c433-c3b2-40ee-9a5e-24c834d559d4"], "dm-1": ["80a444ce-3ea0-4fa6-b231-a1a22e4ed71f"]}}, "ansible_default_ipv4": {"macaddress": "00:50:56:91:2d:48", "network": "10.10.3.0", "mtu": 1500, "broadcast": "10.10.3.255", "alias": "ens160", "netmask": "255.255.255.0", "address": "10.10.3.125", "interface": "ens160", "type": "ether", "gateway": "10.10.3.254"}, "ansible_swapfree_mb": 975, "ansible_default_ipv6": {}, "ansible_distribution_release": "xenial", "ansible_system_vendor": "VMware, Inc.", "ansible_os_family": "Debian", "ansible_cmdline": {"BOOT_IMAGE": "/vmlinuz-4.4.0-131-generic", "ro": true, "root": "/dev/mapper/ubuntu1604--vg-root"}, "ansible_effective_user_id": 0, "ansible_user_gid": 0, "ansible_selinux": {"status": "Missing selinux Python library"}, "ansible_product_version": "None", "ansible_apparmor": {"status": "enabled"}, "ansible_userspace_architecture": "x86_64", "ansible_product_uuid": "77011142-7E83-FFD8-B6AE-3F309846DA30", "ansible_fqdn": "Iron-LMS1", "ansible_system": "Linux", "ansible_pkg_mgr": "apt", "ansible_memfree_mb": 6230, "ansible_devices": {"dm-1": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "1998848", "links": {"masters": [], "labels": [], "ids": ["dm-name-ubuntu1604--vg-swap_1", "dm-uuid-LVM-YpgRpDcNlpSYxnlF9354EO2C0ZrvyIXpUN0JzpdZBD3IZWqntSCzUgzy1iF3jjSr"], "uuids": ["80a444ce-3ea0-4fa6-b231-a1a22e4ed71f"]}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "976.00 MB"}, "sr0": {"scheduler_mode": "deadline", "rotational": "1", "vendor": "NECVMWar", "sectors": "2097151", "links": {"masters": [], "labels": [], "ids": ["ata-VMware_Virtual_SATA_CDRW_Drive_00000000000000000001"], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "SATA controller: VMware SATA AHCI controller", "sectorsize": "512", "removable": "1", "support_discard": "0", "model": "VMware SATA CD00", "partitions": {}, "holders": [], "size": "1024.00 MB"}, "dm-0": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "206200832", "links": {"masters": [], "labels": [], "ids": ["dm-name-ubuntu1604--vg-root", "dm-uuid-LVM-YpgRpDcNlpSYxnlF9354EO2C0ZrvyIXpUmINwig8uWHX2Z7dEc03pMVyrtbL650e"], "uuids": ["cdf0c433-c3b2-40ee-9a5e-24c834d559d4"]}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "98.32 GB"}, "sda": {"scheduler_mode": "deadline", "rotational": "1", "vendor": "VMware", "sectors": "209715200", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "SCSI storage controller: LSI Logic / Symbios Logic 53c1030 PCI-X Fusion-MPT Dual Ultra320 SCSI (rev 01)", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": "Virtual disk", "partitions": {"sda5": {"sectorsize": 512, "uuid": null, "links": {"masters": ["dm-0", "dm-1"], "labels": [], "ids": ["lvm-pv-uuid-Xw3VpA-E3At-m058-H81C-i6Vy-V282-rvT89q"], "uuids": []}, "sectors": "208211968", "start": "1501184", "holders": ["ubuntu1604--vg-root", "ubuntu1604--vg-swap_1"], "size": "99.28 GB"}, "sda2": {"sectorsize": 512, "uuid": null, "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sectors": "2", "start": "1501182", "holders": [], "size": "1.00 KB"}, "sda1": {"sectorsize": 512, "uuid": "331ed48c-913b-4d0c-9f08-9f464e9c1e8d", "links": {"masters": [], "labels": [], "ids": [], "uuids": ["331ed48c-913b-4d0c-9f08-9f464e9c1e8d"]}, "sectors": "1497088", "start": "2048", "holders": [], "size": "731.00 MB"}}, "holders": [], "size": "100.00 GB"}, "loop3": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop2": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop1": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop0": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "4096", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop7": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop6": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop5": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}, "loop4": {"scheduler_mode": "", "rotational": "1", "vendor": null, "sectors": "0", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {}, "holders": [], "size": "0.00 Bytes"}}, "ansible_user_uid": 0, "ansible_lvm": {"pvs": {"/dev/sda5": {"free_g": "0.00", "size_g": "99.28", "vg": "ubuntu1604-vg"}}, "lvs": {"swap_1": {"size_g": "0.95", "vg": "ubuntu1604-vg"}, "root": {"size_g": "98.32", "vg": "ubuntu1604-vg"}}, "vgs": {"ubuntu1604-vg": {"free_g": "0.00", "size_g": "99.28", "num_lvs": "2", "num_pvs": "1"}}}, "ansible_distribution": "Ubuntu", "ansible_user_dir": "/root", "ansible_env": {"USERNAME": "root", "LANG": "en_IN", "SUDO_GID": "1001", "SHELL": "/bin/bash", "LANGUAGE": "en_IN:en", "SUDO_COMMAND": "/bin/sh -c echo BECOME-SUCCESS-tkvutufefiykifzsmraifcdevfiutrjg; /usr/bin/python /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/AnsiballZ_setup.py", "SUDO_UID": "1001", "TERM": "xterm", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin", "PWD": "/home/edx", "LOGNAME": "root", "USER": "root", "HOME": "/root", "MAIL": "/var/mail/root", "SUDO_USER": "edx"}, "ansible_distribution_major_version": "16", "module_setup": true, "ansible_processor_count": 2, "ansible_hostname": "Iron-LMS1", "ansible_processor_vcpus": 2, "ansible_swaptotal_mb": 975, "ansible_lsb": {"release": "16.04", "major_release": "16", "codename": "xenial", "id": "Ubuntu", "description": "Ubuntu 16.04.6 LTS"}, "ansible_real_group_id": 0, "ansible_bios_date": "12/12/2018", "ansible_ens160": {"macaddress": "00:50:56:91:2d:48", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "off [fixed]", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "off [fixed]", "tx_tcp_ecn_segmentation": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_gso_robust": "off [fixed]", "tx_ipip_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "fcoe_mtu": "off [fixed]", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "on", "tx_scatter_gather": "on", "rx_checksumming": "on", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "busy_poll": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "on", "ntuple_filters": "off [fixed]", "tx_vlan_offload": "on", "tx_nocache_copy": "off", "udp_fragmentation_offload": "off [fixed]", "scatter_gather": "on", "tx_sit_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "off [fixed]", "rx_vlan_filter": "on [fixed]", "receive_hashing": "on", "tx_gre_segmentation": "off [fixed]"}, "type": "ether", "pciid": "0000:03:00.0", "module": "vmxnet3", "mtu": 1500, "device": "ens160", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "10.10.3.255", "netmask": "255.255.255.0", "network": "10.10.3.0", "address": "10.10.3.125"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::250:56ff:fe91:2d48"}], "active": true, "speed": 10000, "hw_timestamp_filters": []}, "ansible_all_ipv6_addresses": ["fe80::250:56ff:fe91:2d48"], "ansible_interfaces": ["lo", "ens160"], "ansible_uptime_seconds": 3276592, "ansible_machine_id": "dfb29651a4fa9e2f699e466f5d50f79a", "ansible_kernel": "4.4.0-131-generic", "ansible_iscsi_iqn": "iqn.1993-08.org.debian:01:5c9955863b20", "ansible_system_capabilities_enforced": "True", "ansible_python": {"executable": "/usr/bin/python", "version": {"micro": 12, "major": 2, "releaselevel": "final", "serial": 0, "minor": 7}, "type": "CPython", "has_sslcontext": true, "version_info": [2, 7, 12, "final", 0]}, "ansible_processor_threads_per_core": 1, "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIFrjjjrap3n5lcnnd3skNd1xSve9zNXU57oE8JblZI56", "ansible_mounts": [{"block_used": 2952551, "uuid": "cdf0c433-c3b2-40ee-9a5e-24c834d559d4", "size_total": 103783211008, "block_total": 25337698, "mount": "/", "block_available": 22385147, "size_available": 91689562112, "fstype": "ext4", "inode_total": 6447104, "options": "rw,relatime,errors=remount-ro,data=ordered", "device": "/dev/mapper/ubuntu1604--vg-root", "inode_used": 247540, "block_size": 4096, "inode_available": 6199564}, {"block_used": 24649, "uuid": "331ed48c-913b-4d0c-9f08-9f464e9c1e8d", "size_total": 754434048, "block_total": 184188, "mount": "/boot", "block_available": 159539, "size_available": 653471744, "fstype": "ext2", "inode_total": 46848, "options": "rw,relatime,block_validity,barrier,user_xattr,acl", "device": "/dev/sda1", "inode_used": 304, "block_size": 4096, "inode_available": 46544}, {"block_used": 8366, "uuid": "N/A", "size_total": 268304384000, "block_total": 255875, "mount": "/edx/var/edxapp/media", "block_available": 247509, "size_available": 259531997184, "fstype": "nfs4", "inode_total": 131071488, "options": "rw,relatime,vers=4.0,rsize=1048576,wsize=1048576,namlen=255,hard,proto=tcp,port=0,timeo=600,retrans=2,sec=sys,clientaddr=10.10.3.125,local_lock=none,addr=10.10.3.220", "device": "10.10.3.220:/NFSData/IronNFS", "inode_used": 19809, "block_size": 1048576, "inode_available": 131051679}], "ansible_memory_mb": {"real": {"total": 7983, "used": 1753, "free": 6230}, "swap": {"cached": 0, "total": 975, "free": 975, "used": 0}, "nocache": {"used": 403, "free": 7580}}, "ansible_nodename": "Iron-LMS1", "ansible_product_name": "VMware Virtual Platform", "ansible_machine": "x86_64", "ansible_system_capabilities": ["cap_chown", "cap_dac_override", "cap_dac_read_search", "cap_fowner", "cap_fsetid", "cap_kill", "cap_setgid", "cap_setuid", "cap_setpcap", "cap_linux_immutable", "cap_net_bind_service", "cap_net_broadcast", "cap_net_admin", "cap_net_raw", "cap_ipc_lock", "cap_ipc_owner", "cap_sys_module", "cap_sys_rawio", "cap_sys_chroot", "cap_sys_ptrace", "cap_sys_pacct", "cap_sys_admin", "cap_sys_boot", "cap_sys_nice", "cap_sys_resource", "cap_sys_time", "cap_sys_tty_config", "cap_mknod", "cap_lease", "cap_audit_write", "cap_audit_control", "cap_setfcap", "cap_mac_override", "cap_mac_admin", "cap_syslog", "cap_wake_alarm", "cap_block_suspend", "37+ep"], "ansible_ssh_host_key_dsa_public": "AAAAB3NzaC1kc3MAAACBAIxBdha07tI3EFSkLSnBa6jxiHBrab60VGNvbiAjrQnRzeXdCqlhe9RCqFa3M6WXFeyfKBKO6EimDbdFNLpGQjfkvQVlIEYNcgkPEx4uIzZ52uOFqGxHND8VO7lAOM37AnljdtL4V3hZgOy+UHUOdaiqpMIZS2/3mWphC3RUvuVtAAAAFQCByGUkgGVPRRs8AHMmyW0uJnVxpwAAAIAhE6TCEblJTGG2QFr5t+Kw+S8CUGwRDD9yPl0WkpKGJ+PSpLi36xqXYX8fZggSHcv0V0ahYdE0joxj6N9iv6v6umVzxPSp59e0STG/HCoDioSBaT057UJcpngHcZqut0ES/GUZYYkjyCGnYZ6tUUQUNjmggrJLYyvCB/tMS7+lWQAAAIAEcLuW6j55Kvl4q9MYzMq/it9aVOQGzuMpC5qB0Ich9cnIz7WYvpgP5wErNuxKeozYeUqwcRxEBu33xKdUo3QLPlEMxqZ0tp3hHSDhcJkifVA2p8801JoN5tAIcCkPHhLBEgg6RslhFoRlKrZcJe1ExoA/JVNRmLWUItNgyw5ePw==", "ansible_all_ipv4_addresses": ["10.10.3.125"], "ansible_python_version": "2.7.12"}}\r\n', 'Shared connection to 10.10.3.125 closed.\r\n')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'rm -f -r /home/edx/.ansible/tmp/ansible-tmp-1626336762.33-235928405556965/ > /dev/null 2>&1 && sleep 0'"'"''
<10.10.3.125> (0, '', '')
ok: [10.10.3.125]
META: ran handlers
META: ran handlers

TASK [edxapp : migrate] *********************************************************************************************************************************************************************
task path: /var/tmp/configuration/playbooks/roles/edxapp/tasks/service_variant_config.yml:171
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'echo ~edx && sleep 0'"'"''
<10.10.3.125> (0, '/home/edx\n', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615 `" && echo ansible-tmp-1626336764.45-48498536542615="` echo /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615 `" ) && sleep 0'"'"''
<10.10.3.125> (0, 'ansible-tmp-1626336764.45-48498536542615=/home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615\n', '')
Using module file /edx/app/edx_ansible/venvs/edx_ansible/local/lib/python2.7/site-packages/ansible/modules/commands/command.py
<10.10.3.125> PUT /home/edx/.ansible/tmp/ansible-local-7223M85Ill/tmpecIHAX TO /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615/AnsiballZ_command.py
<10.10.3.125> SSH: EXEC sshpass -d10 sftp -o BatchMode=no -b - -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 '[10.10.3.125]'
<10.10.3.125> (0, 'sftp> put /home/edx/.ansible/tmp/ansible-local-7223M85Ill/tmpecIHAX /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615/AnsiballZ_command.py\n', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'chmod u+x /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615/ /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615/AnsiballZ_command.py && sleep 0'"'"''
<10.10.3.125> (0, '', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 -tt 10.10.3.125 '/bin/sh -c '"'"'sudo -H -S  -p "[sudo via ansible, key=tkxfggndwtrqiftyofglsdovouvcozpl] password: " -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-tkxfggndwtrqiftyofglsdovouvcozpl; DB_MIGRATION_PASS=a01b@iitb. DB_MIGRATION_USER=migrate /usr/bin/python /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615/AnsiballZ_command.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<10.10.3.125> (0, '\r\n\r\n{"changed": true, "end": "2021-07-15 13:43:08.729956", "stdout": "Operations to perform:\\n  Apply all migrations: admin, api_admin, assessment, auth, badges, block_structure, bookmarks, branding, bulk_email, catalog, ccx, ccxcon, celery_utils, certificates, commerce, completion, consent, content_type_gating, contentserver, contenttypes, cors_csrf, course_action_state, course_duration_limits, course_goals, course_groups, course_modes, course_overviews, courseware, coursewarehistoryextended, crawlers, credentials, credit, custom_reg_form, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, email_marketing, embargo, enterprise, entitlements, experiments, external_auth, grades, instructor_task, integrated_channel, lms_xblock, microsite_configuration, milestones, mobile_api, notes, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, programs, redirects, rss_proxy, sap_success_factors, schedules, self_paced, sessions, shoppingcart, site_configuration, sites, social_django, splash, static_replace, status, student, submissions, survey, teams, theming, third_party_auth, track, user_api, user_authn, util, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_django\\nRunning migrations:\\n  Applying ccx.0006_set_display_name_as_override... OK\\n  Applying credentials.0004_notifycredentialsconfig... OK\\n  Applying grades.0014_persistentsubsectiongradeoverridehistory... OK\\n  Applying third_party_auth.0022_auto_20181012_0307... OK\\nOperations to perform:\\n  Apply all migrations: admin, api_admin, assessment, auth, badges, block_structure, bookmarks, branding, bulk_email, catalog, ccx, ccxcon, celery_utils, certificates, commerce, completion, consent, content_type_gating, contentserver, contenttypes, cors_csrf, course_action_state, course_duration_limits, course_goals, course_groups, course_modes, course_overviews, courseware, coursewarehistoryextended, crawlers, credentials, credit, custom_reg_form, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, email_marketing, embargo, enterprise, entitlements, experiments, external_auth, grades, instructor_task, integrated_channel, lms_xblock, microsite_configuration, milestones, mobile_api, notes, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, programs, redirects, rss_proxy, sap_success_factors, schedules, self_paced, sessions, shoppingcart, site_configuration, sites, social_django, splash, static_replace, status, student, submissions, survey, teams, theming, third_party_auth, track, user_api, user_authn, util, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_django\\nRunning migrations:\\n  Applying ccx.0006_set_display_name_as_override... OK\\n  Applying credentials.0004_notifycredentialsconfig... OK\\n  Applying grades.0014_persistentsubsectiongradeoverridehistory... OK\\n  Applying third_party_auth.0022_auto_20181012_0307... OK", "cmd": ["/edx/bin/edxapp-migrate-lms"], "rc": 0, "start": "2021-07-15 13:42:44.697623", "stderr": "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\n  warnings.warn(\\"Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\", DeprecationWarning)\\n\\n2021-07-15 13:42:48,279 WARNING 4059 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\\n2021-07-15 13:42:48,279 WARNING 4059 [enterprise.utils] utils.py:51 - cannot import name _LTI_BACKENDS\\nSystem check identified some issues:\\n\\nWARNINGS:\\n?: (mysql.W002) MySQL Strict Mode is not set for database connection \'student_module_history\'\\n\\tHINT: MySQL\'s Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode\\n2021-07-15 13:42:51,828 WARNING 4059 [py.warnings] __init__.py:1564 - /edx/app/edxapp/venvs/edxapp/local/lib/python2.7/site-packages/pkg_resources/__init__.py:1145: DeprecationWarning: Use of .. or absolute path in a resource path is not allowed and will raise exceptions in a future release.\\n  self, resource_name\\n\\nWARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\n  warnings.warn(\\"Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\", DeprecationWarning)\\n\\n2021-07-15 13:43:01,042 WARNING 4173 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\\n2021-07-15 13:43:01,043 WARNING 4173 [enterprise.utils] utils.py:51 - cannot import name _LTI_BACKENDS\\nSystem check identified some issues:\\n\\nWARNINGS:\\n?: (mysql.W002) MySQL Strict Mode is not set for database connection \'student_module_history\'\\n\\tHINT: MySQL\'s Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode", "delta": "0:00:24.032333", "invocation": {"module_args": {"warn": true, "executable": null, "_uses_shell": false, "_raw_params": "/edx/bin/edxapp-migrate-lms", "removes": null, "argv": null, "creates": null, "chdir": null, "stdin": null}}}\r\n', 'Shared connection to 10.10.3.125 closed.\r\n')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'rm -f -r /home/edx/.ansible/tmp/ansible-tmp-1626336764.45-48498536542615/ > /dev/null 2>&1 && sleep 0'"'"''
<10.10.3.125> (0, '', '')
changed: [10.10.3.125] => (item=lms) => {
    "changed": true,
    "cmd": [
        "/edx/bin/edxapp-migrate-lms"
    ],
    "delta": "0:00:24.032333",
    "end": "2021-07-15 13:43:08.729956",
    "invocation": {
        "module_args": {
            "_raw_params": "/edx/bin/edxapp-migrate-lms",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": true
        }
    },
    "item": "lms",
    "rc": 0,
    "start": "2021-07-15 13:42:44.697623",
    "stderr": "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\n  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)\n\n2021-07-15 13:42:48,279 WARNING 4059 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\n2021-07-15 13:42:48,279 WARNING 4059 [enterprise.utils] utils.py:51 - cannot import name _LTI_BACKENDS\nSystem check identified some issues:\n\nWARNINGS:\n?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'\n\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode\n2021-07-15 13:42:51,828 WARNING 4059 [py.warnings] __init__.py:1564 - /edx/app/edxapp/venvs/edxapp/local/lib/python2.7/site-packages/pkg_resources/__init__.py:1145: DeprecationWarning: Use of .. or absolute path in a resource path is not allowed and will raise exceptions in a future release.\n  self, resource_name\n\nWARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\n  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)\n\n2021-07-15 13:43:01,042 WARNING 4173 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\n2021-07-15 13:43:01,043 WARNING 4173 [enterprise.utils] utils.py:51 - cannot import name _LTI_BACKENDS\nSystem check identified some issues:\n\nWARNINGS:\n?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'\n\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode",
    "stderr_lines": [
        "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported",
        "  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)",
        "",
        "2021-07-15 13:42:48,279 WARNING 4059 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider",
        "2021-07-15 13:42:48,279 WARNING 4059 [enterprise.utils] utils.py:51 - cannot import name _LTI_BACKENDS",
        "System check identified some issues:",
        "",
        "WARNINGS:",
        "?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'",
        "\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode",
        "2021-07-15 13:42:51,828 WARNING 4059 [py.warnings] __init__.py:1564 - /edx/app/edxapp/venvs/edxapp/local/lib/python2.7/site-packages/pkg_resources/__init__.py:1145: DeprecationWarning: Use of .. or absolute path in a resource path is not allowed and will raise exceptions in a future release.",
        "  self, resource_name",
        "",
        "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported",
        "  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)",
        "",
        "2021-07-15 13:43:01,042 WARNING 4173 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider",
        "2021-07-15 13:43:01,043 WARNING 4173 [enterprise.utils] utils.py:51 - cannot import name _LTI_BACKENDS",
        "System check identified some issues:",
        "",
        "WARNINGS:",
        "?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'",
        "\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode"
    ],
    "stdout": "Operations to perform:\n  Apply all migrations: admin, api_admin, assessment, auth, badges, block_structure, bookmarks, branding, bulk_email, catalog, ccx, ccxcon, celery_utils, certificates, commerce, completion, consent, content_type_gating, contentserver, contenttypes, cors_csrf, course_action_state, course_duration_limits, course_goals, course_groups, course_modes, course_overviews, courseware, coursewarehistoryextended, crawlers, credentials, credit, custom_reg_form, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, email_marketing, embargo, enterprise, entitlements, experiments, external_auth, grades, instructor_task, integrated_channel, lms_xblock, microsite_configuration, milestones, mobile_api, notes, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, programs, redirects, rss_proxy, sap_success_factors, schedules, self_paced, sessions, shoppingcart, site_configuration, sites, social_django, splash, static_replace, status, student, submissions, survey, teams, theming, third_party_auth, track, user_api, user_authn, util, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_django\nRunning migrations:\n  Applying ccx.0006_set_display_name_as_override... OK\n  Applying credentials.0004_notifycredentialsconfig... OK\n  Applying grades.0014_persistentsubsectiongradeoverridehistory... OK\n  Applying third_party_auth.0022_auto_20181012_0307... OK\nOperations to perform:\n  Apply all migrations: admin, api_admin, assessment, auth, badges, block_structure, bookmarks, branding, bulk_email, catalog, ccx, ccxcon, celery_utils, certificates, commerce, completion, consent, content_type_gating, contentserver, contenttypes, cors_csrf, course_action_state, course_duration_limits, course_goals, course_groups, course_modes, course_overviews, courseware, coursewarehistoryextended, crawlers, credentials, credit, custom_reg_form, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, email_marketing, embargo, enterprise, entitlements, experiments, external_auth, grades, instructor_task, integrated_channel, lms_xblock, microsite_configuration, milestones, mobile_api, notes, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, programs, redirects, rss_proxy, sap_success_factors, schedules, self_paced, sessions, shoppingcart, site_configuration, sites, social_django, splash, static_replace, status, student, submissions, survey, teams, theming, third_party_auth, track, user_api, user_authn, util, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_django\nRunning migrations:\n  Applying ccx.0006_set_display_name_as_override... OK\n  Applying credentials.0004_notifycredentialsconfig... OK\n  Applying grades.0014_persistentsubsectiongradeoverridehistory... OK\n  Applying third_party_auth.0022_auto_20181012_0307... OK",
    "stdout_lines": [
        "Operations to perform:",
        "  Apply all migrations: admin, api_admin, assessment, auth, badges, block_structure, bookmarks, branding, bulk_email, catalog, ccx, ccxcon, celery_utils, certificates, commerce, completion, consent, content_type_gating, contentserver, contenttypes, cors_csrf, course_action_state, course_duration_limits, course_goals, course_groups, course_modes, course_overviews, courseware, coursewarehistoryextended, crawlers, credentials, credit, custom_reg_form, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, email_marketing, embargo, enterprise, entitlements, experiments, external_auth, grades, instructor_task, integrated_channel, lms_xblock, microsite_configuration, milestones, mobile_api, notes, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, programs, redirects, rss_proxy, sap_success_factors, schedules, self_paced, sessions, shoppingcart, site_configuration, sites, social_django, splash, static_replace, status, student, submissions, survey, teams, theming, third_party_auth, track, user_api, user_authn, util, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_django",
        "Running migrations:",
        "  Applying ccx.0006_set_display_name_as_override... OK",
        "  Applying credentials.0004_notifycredentialsconfig... OK",
        "  Applying grades.0014_persistentsubsectiongradeoverridehistory... OK",
        "  Applying third_party_auth.0022_auto_20181012_0307... OK",
        "Operations to perform:",
        "  Apply all migrations: admin, api_admin, assessment, auth, badges, block_structure, bookmarks, branding, bulk_email, catalog, ccx, ccxcon, celery_utils, certificates, commerce, completion, consent, content_type_gating, contentserver, contenttypes, cors_csrf, course_action_state, course_duration_limits, course_goals, course_groups, course_modes, course_overviews, courseware, coursewarehistoryextended, crawlers, credentials, credit, custom_reg_form, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, email_marketing, embargo, enterprise, entitlements, experiments, external_auth, grades, instructor_task, integrated_channel, lms_xblock, microsite_configuration, milestones, mobile_api, notes, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, programs, redirects, rss_proxy, sap_success_factors, schedules, self_paced, sessions, shoppingcart, site_configuration, sites, social_django, splash, static_replace, status, student, submissions, survey, teams, theming, third_party_auth, track, user_api, user_authn, util, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_django",
        "Running migrations:",
        "  Applying ccx.0006_set_display_name_as_override... OK",
        "  Applying credentials.0004_notifycredentialsconfig... OK",
        "  Applying grades.0014_persistentsubsectiongradeoverridehistory... OK",
        "  Applying third_party_auth.0022_auto_20181012_0307... OK"
    ]
}
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'echo ~edx && sleep 0'"'"''
<10.10.3.125> (0, '/home/edx\n', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051 `" && echo ansible-tmp-1626336788.76-103972798577051="` echo /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051 `" ) && sleep 0'"'"''
<10.10.3.125> (0, 'ansible-tmp-1626336788.76-103972798577051=/home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051\n', '')
Using module file /edx/app/edx_ansible/venvs/edx_ansible/local/lib/python2.7/site-packages/ansible/modules/commands/command.py
<10.10.3.125> PUT /home/edx/.ansible/tmp/ansible-local-7223M85Ill/tmphvkhSY TO /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051/AnsiballZ_command.py
<10.10.3.125> SSH: EXEC sshpass -d10 sftp -o BatchMode=no -b - -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 '[10.10.3.125]'
<10.10.3.125> (0, 'sftp> put /home/edx/.ansible/tmp/ansible-local-7223M85Ill/tmphvkhSY /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051/AnsiballZ_command.py\n', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'chmod u+x /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051/ /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051/AnsiballZ_command.py && sleep 0'"'"''
<10.10.3.125> (0, '', '')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 -tt 10.10.3.125 '/bin/sh -c '"'"'sudo -H -S  -p "[sudo via ansible, key=xnfbedsnweicommkqxxnhtnvlrnoyubr] password: " -u root /bin/sh -c '"'"'"'"'"'"'"'"'echo BECOME-SUCCESS-xnfbedsnweicommkqxxnhtnvlrnoyubr; DB_MIGRATION_PASS=a01b@iitb. DB_MIGRATION_USER=migrate /usr/bin/python /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051/AnsiballZ_command.py'"'"'"'"'"'"'"'"' && sleep 0'"'"''
Escalation succeeded
<10.10.3.125> (0, '\r\n\r\n{"changed": true, "end": "2021-07-15 13:43:25.861453", "stdout": "Operations to perform:\\n  Apply all migrations: admin, api_admin, assessment, auth, block_structure, bookmarks, catalog, ccxcon, celery_utils, completion, consent, content_type_gating, contentserver, contentstore, contenttypes, course_action_state, course_creators, course_duration_limits, course_groups, course_modes, course_overviews, courseware, crawlers, credit, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, embargo, enterprise, entitlements, experiments, external_auth, integrated_channel, microsite_configuration, milestones, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, redirects, sap_success_factors, schedules, self_paced, sessions, site_configuration, sites, static_replace, student, submissions, survey, tagging, theming, track, user_api, user_authn, user_tasks, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_config, xblock_django\\nRunning migrations:\\n  No migrations to apply.\\nOperations to perform:\\n  Apply all migrations: admin, api_admin, assessment, auth, block_structure, bookmarks, catalog, ccxcon, celery_utils, completion, consent, content_type_gating, contentserver, contentstore, contenttypes, course_action_state, course_creators, course_duration_limits, course_groups, course_modes, course_overviews, courseware, crawlers, credit, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, embargo, enterprise, entitlements, experiments, external_auth, integrated_channel, microsite_configuration, milestones, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, redirects, sap_success_factors, schedules, self_paced, sessions, site_configuration, sites, static_replace, student, submissions, survey, tagging, theming, track, user_api, user_authn, user_tasks, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_config, xblock_django\\nRunning migrations:\\n  No migrations to apply.", "cmd": ["/edx/bin/edxapp-migrate-cms"], "rc": 0, "start": "2021-07-15 13:43:08.898074", "stderr": "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\n  warnings.warn(\\"Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\", DeprecationWarning)\\n\\n2021-07-15 13:43:12,535 WARNING 4322 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\\n2021-07-15 13:43:12,535 WARNING 4322 [enterprise.utils] utils.py:51 - cannot import name EnterpriseCustomerUser\\nSystem check identified some issues:\\n\\nWARNINGS:\\n?: (mysql.W002) MySQL Strict Mode is not set for database connection \'student_module_history\'\\n\\tHINT: MySQL\'s Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode\\nWARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\n  warnings.warn(\\"Importing \'lms.djangoapps.courseware\' as \'courseware\' is no longer supported\\", DeprecationWarning)\\n\\n2021-07-15 13:43:21,249 WARNING 4433 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\\n2021-07-15 13:43:21,249 WARNING 4433 [enterprise.utils] utils.py:51 - cannot import name EnterpriseCustomerUser\\nSystem check identified some issues:\\n\\nWARNINGS:\\n?: (mysql.W002) MySQL Strict Mode is not set for database connection \'student_module_history\'\\n\\tHINT: MySQL\'s Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode", "delta": "0:00:16.963379", "invocation": {"module_args": {"warn": true, "executable": null, "_uses_shell": false, "_raw_params": "/edx/bin/edxapp-migrate-cms", "removes": null, "argv": null, "creates": null, "chdir": null, "stdin": null}}}\r\n', 'Shared connection to 10.10.3.125 closed.\r\n')
<10.10.3.125> ESTABLISH SSH CONNECTION FOR USER: edx
<10.10.3.125> SSH: EXEC sshpass -d10 ssh -o ControlMaster=auto -o ControlPersist=60s -o 'ControlPath=~/.ansible/tmp/ansible-ssh-%h-%p-%r' -o ServerAliveInterval=30 -o StrictHostKeyChecking=no -o User=edx -o ConnectTimeout=10 10.10.3.125 '/bin/sh -c '"'"'rm -f -r /home/edx/.ansible/tmp/ansible-tmp-1626336788.76-103972798577051/ > /dev/null 2>&1 && sleep 0'"'"''
<10.10.3.125> (0, '', '')
changed: [10.10.3.125] => (item=cms) => {
    "changed": true,
    "cmd": [
        "/edx/bin/edxapp-migrate-cms"
    ],
    "delta": "0:00:16.963379",
    "end": "2021-07-15 13:43:25.861453",
    "invocation": {
        "module_args": {
            "_raw_params": "/edx/bin/edxapp-migrate-cms",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "warn": true
        }
    },
    "item": "cms",
    "rc": 0,
    "start": "2021-07-15 13:43:08.898074",
    "stderr": "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\n  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)\n\n2021-07-15 13:43:12,535 WARNING 4322 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\n2021-07-15 13:43:12,535 WARNING 4322 [enterprise.utils] utils.py:51 - cannot import name EnterpriseCustomerUser\nSystem check identified some issues:\n\nWARNINGS:\n?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'\n\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode\nWARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\n  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)\n\n2021-07-15 13:43:21,249 WARNING 4433 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider\n2021-07-15 13:43:21,249 WARNING 4433 [enterprise.utils] utils.py:51 - cannot import name EnterpriseCustomerUser\nSystem check identified some issues:\n\nWARNINGS:\n?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'\n\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode",
    "stderr_lines": [
        "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported",
        "  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)",
        "",
        "2021-07-15 13:43:12,535 WARNING 4322 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider",
        "2021-07-15 13:43:12,535 WARNING 4322 [enterprise.utils] utils.py:51 - cannot import name EnterpriseCustomerUser",
        "System check identified some issues:",
        "",
        "WARNINGS:",
        "?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'",
        "\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode",
        "WARNING:py.warnings:/edx/app/edxapp/edx-platform/lms/djangoapps/courseware/__init__.py:5: DeprecationWarning: Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported",
        "  warnings.warn(\"Importing 'lms.djangoapps.courseware' as 'courseware' is no longer supported\", DeprecationWarning)",
        "",
        "2021-07-15 13:43:21,249 WARNING 4433 [enterprise.utils] utils.py:50 - Could not import Registry from third_party_auth.provider",
        "2021-07-15 13:43:21,249 WARNING 4433 [enterprise.utils] utils.py:51 - cannot import name EnterpriseCustomerUser",
        "System check identified some issues:",
        "",
        "WARNINGS:",
        "?: (mysql.W002) MySQL Strict Mode is not set for database connection 'student_module_history'",
        "\tHINT: MySQL's Strict Mode fixes many data integrity problems in MySQL, such as data truncation upon insertion, by escalating warnings into errors. It is strongly recommended you activate it. See: https://docs.djangoproject.com/en/1.11/ref/databases/#mysql-sql-mode"
    ],
    "stdout": "Operations to perform:\n  Apply all migrations: admin, api_admin, assessment, auth, block_structure, bookmarks, catalog, ccxcon, celery_utils, completion, consent, content_type_gating, contentserver, contentstore, contenttypes, course_action_state, course_creators, course_duration_limits, course_groups, course_modes, course_overviews, courseware, crawlers, credit, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, embargo, enterprise, entitlements, experiments, external_auth, integrated_channel, microsite_configuration, milestones, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, redirects, sap_success_factors, schedules, self_paced, sessions, site_configuration, sites, static_replace, student, submissions, survey, tagging, theming, track, user_api, user_authn, user_tasks, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_config, xblock_django\nRunning migrations:\n  No migrations to apply.\nOperations to perform:\n  Apply all migrations: admin, api_admin, assessment, auth, block_structure, bookmarks, catalog, ccxcon, celery_utils, completion, consent, content_type_gating, contentserver, contentstore, contenttypes, course_action_state, course_creators, course_duration_limits, course_groups, course_modes, course_overviews, courseware, crawlers, credit, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, embargo, enterprise, entitlements, experiments, external_auth, integrated_channel, microsite_configuration, milestones, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, redirects, sap_success_factors, schedules, self_paced, sessions, site_configuration, sites, static_replace, student, submissions, survey, tagging, theming, track, user_api, user_authn, user_tasks, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_config, xblock_django\nRunning migrations:\n  No migrations to apply.",
    "stdout_lines": [
        "Operations to perform:",
        "  Apply all migrations: admin, api_admin, assessment, auth, block_structure, bookmarks, catalog, ccxcon, celery_utils, completion, consent, content_type_gating, contentserver, contentstore, contenttypes, course_action_state, course_creators, course_duration_limits, course_groups, course_modes, course_overviews, courseware, crawlers, credit, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, embargo, enterprise, entitlements, experiments, external_auth, integrated_channel, microsite_configuration, milestones, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, redirects, sap_success_factors, schedules, self_paced, sessions, site_configuration, sites, static_replace, student, submissions, survey, tagging, theming, track, user_api, user_authn, user_tasks, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_config, xblock_django",
        "Running migrations:",
        "  No migrations to apply.",
        "Operations to perform:",
        "  Apply all migrations: admin, api_admin, assessment, auth, block_structure, bookmarks, catalog, ccxcon, celery_utils, completion, consent, content_type_gating, contentserver, contentstore, contenttypes, course_action_state, course_creators, course_duration_limits, course_groups, course_modes, course_overviews, courseware, crawlers, credit, dark_lang, database_fixups, degreed, django_comment_common, django_notify, django_openid_auth, djcelery, edx_oauth2_provider, edx_proctoring, edxval, embargo, enterprise, entitlements, experiments, external_auth, integrated_channel, microsite_configuration, milestones, oauth2, oauth2_provider, oauth_dispatch, oauth_provider, organizations, redirects, sap_success_factors, schedules, self_paced, sessions, site_configuration, sites, static_replace, student, submissions, survey, tagging, theming, track, user_api, user_authn, user_tasks, verified_track_content, verify_student, video_config, video_pipeline, waffle, waffle_utils, wiki, workflow, xapi, xblock_config, xblock_django",
        "Running migrations:",
        "  No migrations to apply."
    ]
}
META: ran handlers
META: ran handlers

PLAY RECAP **********************************************************************************************************************************************************************************
10.10.3.125                : ok=2    changed=1    unreachable=0    failed=0


2) Xqueue

(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ ansible-playbook -c ssh xqueue.yml -i inventory.ini --limit xqueue --tags "migrate" -e@server_vars.yml  -u edx -k -K
SSH password:
SUDO password[defaults to SSH password]:

PLAY [Deploy xqueue] ************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
ok: [10.10.3.138]

TASK [xqueue : Migrate] *********************************************************************************************************************************************************************
changed: [10.10.3.138]

PLAY RECAP **********************************************************************************************************************************************************************************
10.10.3.138                : ok=2    changed=1    unreachable=0    failed=0

3) Forum

(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ ansible-playbook -c ssh forum.yml -i inventory.ini --limit forum --tags "migrate" -e@server_vars.yml -u edx -k -K
SSH password:
SUDO password[defaults to SSH password]:
 [WARNING]: While constructing a mapping from /var/tmp/configuration/playbooks/roles/forum/defaults/main.yml, line 83, column 3, found a duplicate dict key (RACK_ENV). Using last defined
value only.

 [WARNING]: While constructing a mapping from /var/tmp/configuration/playbooks/roles/forum/defaults/main.yml, line 83, column 3, found a duplicate dict key (SINATRA_ENV). Using last
defined value only.

 [WARNING]: While constructing a mapping from /var/tmp/configuration/playbooks/roles/forum/defaults/main.yml, line 83, column 3, found a duplicate dict key (SEARCH_SERVER). Using last
defined value only.

 [WARNING]: While constructing a mapping from /var/tmp/configuration/playbooks/roles/forum/defaults/main.yml, line 83, column 3, found a duplicate dict key (MONGOHQ_URL). Using last
defined value only.


PLAY [Deploy forum] *************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
ok: [10.10.3.136]

TASK [forum : initialize elasticsearch] *****************************************************************************************************************************************************
changed: [10.10.3.136]

TASK [forum : rebuild elasticsearch indexes] ************************************************************************************************************************************************
skipping: [10.10.3.136]

PLAY RECAP **********************************************************************************************************************************************************************************
10.10.3.136                : ok=2    changed=1    unreachable=0    failed=0


4) Discovery

(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ vi inventory.ini
(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ vi inventory.ini
(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ ansible-playbook -c ssh discovery.yml -i inventory.ini --limit discovery --tags "migrate" -e@server_vars.yml  -u edx -k -K
SSH password:
SUDO password[defaults to SSH password]:

PLAY [Deploy edX Course Discovery Service] **************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
ok: [10.10.3.155]

TASK [edx_django_service : migrate database] ************************************************************************************************************************************************
changed: [10.10.3.155]

TASK [edx_django_service : run post-migrate commands] ***************************************************************************************************************************************

PLAY RECAP **********************************************************************************************************************************************************************************
10.10.3.155                : ok=2    changed=1    unreachable=0    failed=0

5) Ecommerce

(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ vi inventory.ini
(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ vi inventory.ini
(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ vi ecommerce.yml
(edx_ansible) edx@Iron-Ansible:/var/tmp/configuration/playbooks$ ansible-playbook -c ssh ecommerce.yml -i inventory.ini --limit ecommerce --tags "migrate" -e@server_vars.yml  -u edx -k -K
SSH password:
SUDO password[defaults to SSH password]:

PLAY [Deploy edX Ecommerce] *****************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************
ok: [10.10.3.155]

TASK [edx_django_service : migrate database] ************************************************************************************************************************************************
changed: [10.10.3.155]

TASK [edx_django_service : run post-migrate commands] ***************************************************************************************************************************************
changed: [10.10.3.155] => (item={u'command': u'./manage.py oscar_populate_countries --initial-only', u'when': True})
skipping: [10.10.3.155] => (item={u'command': u'./manage.py create_or_update_site --site-id=1 --site-domain=10.10.3.155:8002 --partner-code=edX --partner-name="Open edX" --lms-url-root=http://10.10.3.125:8000 --client-side-payment-processor=cybersource --payment-processors=cybersource,paypal --client-id=ecommerce-key --client-secret=ecommerce-secret --from-email staff@example.com --discovery_api_url=http://10.10.3.155:8008/api/v1/ --journals_api_url=', u'when': False})
skipping: [10.10.3.155] => (item={u'command': u'./manage.py create_demo_data --partner=edX', u'when': False})

PLAY RECAP **********************************************************************************************************************************************************************************
10.10.3.155                : ok=3    changed=2    unreachable=0    failed=0
